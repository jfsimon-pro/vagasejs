<%- include('../partials/header') %>

<div class="candidatos-container">
  <h1>Candidatos para a vaga</h1>

  <form action="/empresa/vagas/<%= vagaId %>/candidatos" method="GET" style="margin-bottom: 20px;">
    <input
      type="text"
      name="busca"
      placeholder="Buscar candidatos..."
      value="<%= busca || '' %>">
    <button type="submit">Buscar</button>
  </form>

  <% if (candidatos.length > 0) { %>
    <table>
      <thead>
        <tr>
          <th>Nome</th>
          <th>Cidade</th>
          <th>Email</th>
          <th>Telefone</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        <% candidatos.forEach(candidato => { %>
          <tr>
            <td><%= candidato.nomeCompleto %></td>
            <td><%= candidato.cidade %></td>
            <td><%= candidato.email %></td>
            <td><%= candidato.telefone %></td>
            <td>
              <a href="/empresa/candidatos/<%= candidato.id %>">Ver mais</a>
            </td>
          </tr>
        <% }); %>
      </tbody>
    </table>
  <% } else { %>
    <p>Nenhum candidato encontrado.</p>
  <% } %>
</div>

<%- include('../partials/footer') %>
